---
permalink: /api.json
---
{
  "meta": {
    "title": "{{ site.title | escape }}",
    "description": "{{ site.description }}",
    "version": "1.0",
    "last_updated": "{{ site.time | date_to_xmlschema }}",
    "total_services": {{ site.data.diensten | where: 'status', 'live' | size }}
  },
  "services": [
    {% assign diensten = site.data.diensten | where: 'status', 'live' %}
    {% for dienst in diensten %}
    {
      "name": "{{ dienst.naam }}",
      "description": "{{ dienst.beschrijving }}",
      "category": "{{ dienst.categorie }}",
      "url": "{{ dienst.url }}",
      "favicon": "{{ dienst.favicon }}",
      {% if dienst.aanbieder %}"provider": "{{ dienst.aanbieder }}",{% endif %}
      {% if dienst.aanbieder_favicon %}"provider_favicon": "{{ dienst.aanbieder_favicon }}",{% endif %}
      {% if dienst.spoelkeuken_url %}"spoelkeuken_url": "{{ dienst.spoelkeuken_url }}",{% endif %}
      "eu_hosting": {{ dienst.eu_hosting }},
      "self_hosting": {{ dienst.zelf_hosten }},
      "status": "{{ dienst.status }}"
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ],
  "categories": [
    {% assign categories = site.data.diensten | where: 'status', 'live' | map: 'categorie' | uniq | sort %}
    {% for category in categories %}
    {
      "name": "{{ category }}",
      "count": {{ site.data.diensten | where: 'status', 'live' | where: 'categorie', category | size }}
    }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ]
}